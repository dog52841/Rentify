import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import React from 'react';
import { motion } from 'framer-motion';
import { Button } from '../ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '../ui/card';
import { ChevronLeft, Check, MapPin, Tag, FileText, Image as ImageIcon, Box, Edit } from 'lucide-react';
import { MapContainer, TileLayer, Marker } from 'react-leaflet';
import 'leaflet/dist/leaflet.css';
import { getCategoryIcon } from '../../lib/categories';
const ReviewStep = ({ formData, onPrev, onSubmit }) => {
    const { category, subcategory, title, description, photos, location, address, price_per_day, price_per_week, price_per_month } = formData;
    const CategoryIcon = getCategoryIcon(category) || Box;
    return (_jsxs(motion.div, { initial: { opacity: 0, x: 50 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -50 }, children: [_jsx("h2", { className: "text-2xl font-bold mb-2 text-gray-900 dark:text-white", children: "Review & Publish" }), _jsx("p", { className: "text-gray-600 dark:text-gray-400 mb-6", children: "Review the details of your listing before publishing." }), _jsxs("div", { className: "space-y-6", children: [_jsxs(Card, { children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center", children: [_jsx(Box, { className: "w-6 h-6 mr-3" }), " Item Details"] }) }), _jsxs(CardContent, { className: "space-y-4", children: [_jsxs("div", { className: "flex items-center", children: [_jsx(CategoryIcon, { className: "w-5 h-5 mr-3 text-gray-600 dark:text-gray-400" }), _jsxs("span", { className: "font-semibold", children: [category, " > ", subcategory] })] }), _jsxs("div", { children: [_jsx("h3", { className: "text-xl font-bold", children: title }), _jsx("p", { className: "text-gray-600 dark:text-gray-400 mt-1", children: description })] })] })] }), _jsxs(Card, { children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center", children: [_jsx(ImageIcon, { className: "w-6 h-6 mr-3" }), " Photos"] }) }), _jsx(CardContent, { children: _jsx("div", { className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4", children: photos.map((photo, index) => (_jsx("div", { className: "aspect-w-1 aspect-h-1", children: _jsx("img", { src: photo, alt: `listing photo ${index}`, className: "object-cover rounded-lg w-full h-full" }) }, index))) }) })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [_jsxs(Card, { children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center", children: [_jsx(MapPin, { className: "w-6 h-6 mr-3" }), " Location"] }) }), _jsxs(CardContent, { children: [location && (_jsx("div", { className: "h-48 w-full rounded-lg overflow-hidden z-0", children: _jsxs(MapContainer, { center: location, zoom: 13, scrollWheelZoom: false, dragging: false, zoomControl: false, className: "h-full w-full", children: [_jsx(TileLayer, { url: "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png" }), _jsx(Marker, { position: location })] }) })), _jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400 mt-2", children: address })] })] }), _jsxs(Card, { children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center", children: [_jsx(Tag, { className: "w-6 h-6 mr-3" }), " Pricing"] }) }), _jsxs(CardContent, { className: "space-y-2", children: [_jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "Per Day" }), _jsxs("span", { className: "font-bold text-lg", children: ["$", typeof price_per_day === 'number' ? price_per_day.toFixed(2) : '0.00'] })] }), price_per_week && (_jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "Per Week" }), _jsxs("span", { className: "font-semibold", children: ["$", typeof price_per_week === 'number' ? price_per_week.toFixed(2) : '0.00'] })] })), price_per_month && (_jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "Per Month" }), _jsxs("span", { className: "font-semibold", children: ["$", typeof price_per_month === 'number' ? price_per_month.toFixed(2) : '0.00'] })] }))] })] })] })] }), _jsxs("div", { className: "mt-8 flex justify-between", children: [_jsxs(Button, { onClick: onPrev, variant: "outline", children: [_jsx(ChevronLeft, { className: "w-4 h-4 mr-2" }), " Previous"] }), _jsxs(Button, { onClick: onSubmit, className: "bg-green-600 hover:bg-green-700", children: [_jsx(Check, { className: "w-4 h-4 mr-2" }), " Publish Listing"] })] })] }));
};
export default ReviewStep;
